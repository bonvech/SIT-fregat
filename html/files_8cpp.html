<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SIT---Fregat: Файл include/files.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="SIT_intro_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SIT---Fregat
   &#160;<span id="projectnumber">0.3</span>
   </div>
   <div id="projectbrief">SITsoftware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Функции</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle">
<div class="title">Файл files.cpp</div>  </div>
</div><!--header-->
<div class="contents">

<p>Функции для работы с файлами  
<a href="#details">Подробнее...</a></p>
<div class="textblock"><div class="dynheader">
Граф файлов, в которые включается этот файл:</div>
<div class="dyncontent">
<div class="center"><img src="files_8cpp__dep__incl.png" border="0" usemap="#include_2files_8cppdep" alt=""/></div>
<map name="include_2files_8cppdep" id="include_2files_8cppdep">
<area shape="rect" id="node2" href="include_8h.html" title="Определение констант, подключение библиотек. " alt="" coords="5,80,124,107"/>
<area shape="rect" id="node3" href="sphere_8cpp.html" title="Программа автономной работы установки СФЕРА в Тунке " alt="" coords="21,155,108,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Функции</h2></td></tr>
<tr class="memitem:a56719317a4f22e76aa0ff6861476f568"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a56719317a4f22e76aa0ff6861476f568">time_to_file</a> ()</td></tr>
<tr class="separator:a56719317a4f22e76aa0ff6861476f568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ab8638b69b82dd7da9351b510b65bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a34ab8638b69b82dd7da9351b510b65bc">get_time_ms</a> ()</td></tr>
<tr class="memdesc:a34ab8638b69b82dd7da9351b510b65bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">get_time_ms  <a href="#a34ab8638b69b82dd7da9351b510b65bc">Подробнее...</a><br /></td></tr>
<tr class="separator:a34ab8638b69b82dd7da9351b510b65bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d61403909f8e0fb9c9a5539496d49c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a9d61403909f8e0fb9c9a5539496d49c5">get_and_print_time</a> ()</td></tr>
<tr class="memdesc:a9d61403909f8e0fb9c9a5539496d49c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get and print time with milliseconds.  <a href="#a9d61403909f8e0fb9c9a5539496d49c5">Подробнее...</a><br /></td></tr>
<tr class="separator:a9d61403909f8e0fb9c9a5539496d49c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb50885ac45df175a04f36c6703e6a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a9cb50885ac45df175a04f36c6703e6a5">read_enable</a> ()</td></tr>
<tr class="memdesc:a9cb50885ac45df175a04f36c6703e6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read enable message from file.  <a href="#a9cb50885ac45df175a04f36c6703e6a5">Подробнее...</a><br /></td></tr>
<tr class="separator:a9cb50885ac45df175a04f36c6703e6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e3b3db3bab016c82ba24e75ae83ae7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#aa9e3b3db3bab016c82ba24e75ae83ae7">write_disable</a> ()</td></tr>
<tr class="memdesc:aa9e3b3db3bab016c82ba24e75ae83ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read enable message from file.  <a href="#aa9e3b3db3bab016c82ba24e75ae83ae7">Подробнее...</a><br /></td></tr>
<tr class="separator:aa9e3b3db3bab016c82ba24e75ae83ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabc004fbf5121e961a85c05c4a59c8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a> (char *message)</td></tr>
<tr class="memdesc:afabc004fbf5121e961a85c05c4a59c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print debug message to stdout and debug file.  <a href="#afabc004fbf5121e961a85c05c4a59c8c">Подробнее...</a><br /></td></tr>
<tr class="separator:afabc004fbf5121e961a85c05c4a59c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81add77f7e11460e94ece42ff6c34b77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a81add77f7e11460e94ece42ff6c34b77">print_status_to_file</a> ()</td></tr>
<tr class="separator:a81add77f7e11460e94ece42ff6c34b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0930863676605af7a17bc3d6560f67"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#aac0930863676605af7a17bc3d6560f67">init_data_file</a> (FILE *file, <a class="el" href="classfadc__board.html">fadc_board</a> &amp;Fadc)</td></tr>
<tr class="separator:aac0930863676605af7a17bc3d6560f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282c8252c257a244cba217aa88dbaed8"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a282c8252c257a244cba217aa88dbaed8">new_filename</a> (char *filename, unsigned int filenum)</td></tr>
<tr class="memdesc:a282c8252c257a244cba217aa88dbaed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generation of new outdata filename<br />
.  <a href="#a282c8252c257a244cba217aa88dbaed8">Подробнее...</a><br /></td></tr>
<tr class="separator:a282c8252c257a244cba217aa88dbaed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0514fdaff6d13f7bc1c1883615ca2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#adb0514fdaff6d13f7bc1c1883615ca2d">timestamp_to_file</a> (FILE *ff)</td></tr>
<tr class="separator:adb0514fdaff6d13f7bc1c1883615ca2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86aeaa068e21bdc4f26ac12c24e61b53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a86aeaa068e21bdc4f26ac12c24e61b53">open_debug_file</a> ()</td></tr>
<tr class="separator:a86aeaa068e21bdc4f26ac12c24e61b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3503a87688997653881ab319dec95a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a6c3503a87688997653881ab319dec95a">reopen_debug_file</a> ()</td></tr>
<tr class="separator:a6c3503a87688997653881ab319dec95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221e054c97ac0ab9b2e240ce84046bc3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a221e054c97ac0ab9b2e240ce84046bc3">open_data_file</a> (<a class="el" href="classfadc__board.html">fadc_board</a> &amp;Fadc)</td></tr>
<tr class="separator:a221e054c97ac0ab9b2e240ce84046bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840612e7be68cd8bd4c1fbea5c28928f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a840612e7be68cd8bd4c1fbea5c28928f">open_telemetry_files</a> ()</td></tr>
<tr class="separator:a840612e7be68cd8bd4c1fbea5c28928f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:a97820fb905f29ec6ddc9f457adab9a01"><td class="memItemLeft" align="right" valign="top"><a id="a97820fb905f29ec6ddc9f457adab9a01"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files_8cpp.html#a97820fb905f29ec6ddc9f457adab9a01">FileNum</a></td></tr>
<tr class="memdesc:a97820fb905f29ec6ddc9f457adab9a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of output data file <br /></td></tr>
<tr class="separator:a97820fb905f29ec6ddc9f457adab9a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>Функции для работы с файлами </p>
<p>Данный файл содержит в себе определения функций, работающих с файлами. </p>
</div><h2 class="groupheader">Функции</h2>
<a id="a9d61403909f8e0fb9c9a5539496d49c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d61403909f8e0fb9c9a5539496d49c5">&#9670;&nbsp;</a></span>get_and_print_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_and_print_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get and print time with milliseconds. </p>
<hr/>
<p> Get and print actual time with milliseconds to stdout and debug file </p>
<div class="fragment"><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keyword">struct </span>timeval tv;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keyword">struct </span>tm* ptm;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">char</span> time_string[40];</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordtype">long</span> milliseconds;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    gettimeofday(&amp;tv, NULL);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">//ptm = localtime (&amp;tv.tv_sec);</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    ptm = gmtime (&amp;tv.tv_sec);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    strftime(time_string, <span class="keyword">sizeof</span>(time_string), <span class="stringliteral">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, ptm);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    milliseconds = tv.tv_usec/1000;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    sprintf(time_string, <span class="stringliteral">&quot;%s.%03ld U\n&quot;</span>, time_string, milliseconds); <span class="comment">// U - UTC time</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="fadcbord_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a>(time_string);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div><div class="ttc" id="fadcbord_8cpp_html_afabc004fbf5121e961a85c05c4a59c8c"><div class="ttname"><a href="fadcbord_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a></div><div class="ttdeci">void print_debug(char *message)</div><div class="ttdoc">Print debug message to stdout and debug file. </div><div class="ttdef"><b>Definition:</b> files.cpp:103</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a34ab8638b69b82dd7da9351b510b65bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34ab8638b69b82dd7da9351b510b65bc">&#9670;&nbsp;</a></span>get_time_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_time_ms </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get_time_ms </p>
<hr/>
<p> Get actual time to string time_out </p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keyword">struct </span>timeval tv;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keyword">struct </span>tm* ptm;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">char</span> time_string[40];</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordtype">long</span> milliseconds;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> gph = 0, gpm = 0, gps = 0;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    gettimeofday(&amp;tv, NULL);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">//ptm = localtime (&amp;tv.tv_sec);</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    ptm = gmtime (&amp;tv.tv_sec);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    strftime(time_string, <span class="keyword">sizeof</span>(time_string), <span class="stringliteral">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, ptm);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    milliseconds = tv.tv_usec/1000;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    sprintf(<a class="code" href="include_8h.html#a9fcfa020d49282947af7126f436bef23">time_out</a>, <span class="stringliteral">&quot;%s.%03ld U&quot;</span>, time_string, milliseconds);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    gph = (<span class="keywordtype">unsigned</span> char) ptm-&gt;tm_hour;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    gpm = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) ptm-&gt;tm_min;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    gps = (<span class="keywordtype">unsigned</span> char) ptm-&gt;tm_sec;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    sprintf(<a class="code" href="include_8h.html#a90c59ce010d905a0bf2f330c2a90e6ad">gps_sstamp</a>,<span class="stringliteral">&quot;%02d:%02d:%02d.%03ld&quot;</span>, gph, gpm, gps, milliseconds);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">tInt</a> = (<span class="keywordtype">unsigned</span> short) milliseconds;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    sprintf(<a class="code" href="include_8h.html#a54ea942e44f8431e06b8f8e6df474e34">gps_bstamp</a>,<span class="stringliteral">&quot;%c%c%c%c%c&quot;</span>,gph, gpm, gps,</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                    <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[1], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[0]);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}</div><div class="ttc" id="include_8h_html_a90c59ce010d905a0bf2f330c2a90e6ad"><div class="ttname"><a href="include_8h.html#a90c59ce010d905a0bf2f330c2a90e6ad">gps_sstamp</a></div><div class="ttdeci">char gps_sstamp[30]</div><div class="ttdoc">gps_sstamp info string </div><div class="ttdef"><b>Definition:</b> include.h:156</div></div>
<div class="ttc" id="include_8h_html_a54ea942e44f8431e06b8f8e6df474e34"><div class="ttname"><a href="include_8h.html#a54ea942e44f8431e06b8f8e6df474e34">gps_bstamp</a></div><div class="ttdeci">char gps_bstamp[30]</div><div class="ttdoc">gps_bstamp info string </div><div class="ttdef"><b>Definition:</b> include.h:155</div></div>
<div class="ttc" id="include_8h_html_a9fcfa020d49282947af7126f436bef23"><div class="ttname"><a href="include_8h.html#a9fcfa020d49282947af7126f436bef23">time_out</a></div><div class="ttdeci">char time_out[100]</div><div class="ttdoc">time_ms info string </div><div class="ttdef"><b>Definition:</b> include.h:147</div></div>
<div class="ttc" id="unionCharInt__converter_html_a8de79f7fa4bd529ab67c9a1d7d3e5b6a"><div class="ttname"><a href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">CharInt_converter::tChar</a></div><div class="ttdeci">unsigned char tChar[4]</div><div class="ttdoc">4 bytes for integer </div><div class="ttdef"><b>Definition:</b> include.h:80</div></div>
<div class="ttc" id="unionCharInt__converter_html_acbefecaba8d8d94efb3b252b76d75a8c"><div class="ttname"><a href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">CharInt_converter::tInt</a></div><div class="ttdeci">unsigned int tInt</div><div class="ttdoc">integer </div><div class="ttdef"><b>Definition:</b> include.h:81</div></div>
<div class="ttc" id="include_8h_html_a0243a46b9873d3074b0bbbf09c6ea281"><div class="ttname"><a href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a></div><div class="ttdeci">union CharInt_converter Conv</div><div class="ttdoc">name of union to use to convert int to bytes </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac0930863676605af7a17bc3d6560f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0930863676605af7a17bc3d6560f67">&#9670;&nbsp;</a></span>init_data_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int init_data_file </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfadc__board.html">fadc_board</a> &amp;&#160;</td>
          <td class="paramname"><em>Fadc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Print to binary datafile begining some information about current detector configuration: BUF2, CHANMAX, AddrOn - number of fadc plates </p><dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>- FILE to write information </td></tr>
    <tr><td class="paramname">Fadc</td><td>- FADC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>0 - OK<br />
 1 - error in file </dd></dl>
<p>Print BUF2 and CHANMAX to file</p>
<p>Print fadc boards number to file </p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span>( !file ) <span class="keywordflow">return</span> 1; <span class="comment">// no data file is open</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="files_8cpp.html#a56719317a4f22e76aa0ff6861476f568">time_to_file</a>();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">tInt</a> = Fadc.<a class="code" href="classfadc__board.html#a69594ebe04a30af7d39a3cd1ffb2c950">Buf2</a>; <span class="comment">//BUF2;</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    fprintf(file, <span class="stringliteral">&quot;b%c%c&quot;</span>, <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[1], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[0]);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">tInt</a> = <a class="code" href="include_8h.html#a746ac98e315b60096deed73cfffebe4c">CHANMAX</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    fprintf(file, <span class="stringliteral">&quot;c%c%c&quot;</span>, <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[1], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[0]);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">tInt</a> = Fadc.<a class="code" href="classfadc__board.html#a9571f08e5a871caac7a251d8daac8f66">AddrOn</a>[0];</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    fprintf(file, <span class="stringliteral">&quot;a%c%c&quot;</span>, <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[1], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[0]);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    fflush(file);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="ttc" id="classfadc__board_html_a69594ebe04a30af7d39a3cd1ffb2c950"><div class="ttname"><a href="classfadc__board.html#a69594ebe04a30af7d39a3cd1ffb2c950">fadc_board::Buf2</a></div><div class="ttdeci">unsigned short Buf2</div><div class="ttdoc">Buffer size. </div><div class="ttdef"><b>Definition:</b> fadcbord.cpp:38</div></div>
<div class="ttc" id="unionCharInt__converter_html_a8de79f7fa4bd529ab67c9a1d7d3e5b6a"><div class="ttname"><a href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">CharInt_converter::tChar</a></div><div class="ttdeci">unsigned char tChar[4]</div><div class="ttdoc">4 bytes for integer </div><div class="ttdef"><b>Definition:</b> include.h:80</div></div>
<div class="ttc" id="unionCharInt__converter_html_acbefecaba8d8d94efb3b252b76d75a8c"><div class="ttname"><a href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">CharInt_converter::tInt</a></div><div class="ttdeci">unsigned int tInt</div><div class="ttdoc">integer </div><div class="ttdef"><b>Definition:</b> include.h:81</div></div>
<div class="ttc" id="classfadc__board_html_a9571f08e5a871caac7a251d8daac8f66"><div class="ttname"><a href="classfadc__board.html#a9571f08e5a871caac7a251d8daac8f66">fadc_board::AddrOn</a></div><div class="ttdeci">unsigned int AddrOn[16]</div><div class="ttdef"><b>Definition:</b> fadcbord.cpp:39</div></div>
<div class="ttc" id="include_8h_html_a746ac98e315b60096deed73cfffebe4c"><div class="ttname"><a href="include_8h.html#a746ac98e315b60096deed73cfffebe4c">CHANMAX</a></div><div class="ttdeci">#define CHANMAX</div><div class="ttdoc">number of ADC channels on one FADC board </div><div class="ttdef"><b>Definition:</b> include.h:43</div></div>
<div class="ttc" id="include_8h_html_a0243a46b9873d3074b0bbbf09c6ea281"><div class="ttname"><a href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a></div><div class="ttdeci">union CharInt_converter Conv</div><div class="ttdoc">name of union to use to convert int to bytes </div></div>
<div class="ttc" id="files_8cpp_html_a56719317a4f22e76aa0ff6861476f568"><div class="ttname"><a href="files_8cpp.html#a56719317a4f22e76aa0ff6861476f568">time_to_file</a></div><div class="ttdeci">void time_to_file()</div><div class="ttdef"><b>Definition:</b> files.cpp:198</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a282c8252c257a244cba217aa88dbaed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282c8252c257a244cba217aa88dbaed8">&#9670;&nbsp;</a></span>new_filename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char new_filename </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>filenum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generation of new outdata filename<br />
. </p>
<hr/>
<p> Generation of new outdata filename</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>строка для хранения нового имени файла </td></tr>
    <tr><td class="paramname">filenum</td><td>номер файла данных example of using: <div class="fragment"><div class="line"><span class="keywordtype">char</span> filename[100] = {<span class="stringliteral">&quot;\0&quot;</span>};</div><div class="line"><span class="keywordtype">char</span> f = *filename;</div><div class="line">f = <a class="code" href="files_8cpp.html#a282c8252c257a244cba217aa88dbaed8">new_filename</a>(filename, num);</div><div class="line">printf(<span class="stringliteral">&quot;main: %s\n&quot;</span>, filename);</div></div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Необходимо сделать:</a></b></dt><dd>change localtime to gmtime here </dd></dl>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">char</span> time_string[40];</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">struct </span>timeval tv;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">struct </span>tm* ptm;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// make file name</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    strcpy(filename, <a class="code" href="include_8h.html#ab117546549783a058d0321a287699579">FILE_NAME</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    gettimeofday(&amp;tv, NULL);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">//ptm = localtime (&amp;tv.tv_sec);</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    ptm = gmtime (&amp;tv.tv_sec);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    strftime(time_string, <span class="keyword">sizeof</span>(time_string), <span class="stringliteral">&quot;%Y-%m-%d_%H_%M&quot;</span>, ptm);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    strcat(filename, time_string);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    sprintf(filename, <span class="stringliteral">&quot;%s.%i&quot;</span>, filename, filenum);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    printf(<span class="stringliteral">&quot;nf: %s\n&quot;</span>, filename);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">return</span> *filename;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="include_8h_html_ab117546549783a058d0321a287699579"><div class="ttname"><a href="include_8h.html#ab117546549783a058d0321a287699579">FILE_NAME</a></div><div class="ttdeci">#define FILE_NAME</div><div class="ttdoc">first part of filename to write binary data </div><div class="ttdef"><b>Definition:</b> include.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a221e054c97ac0ab9b2e240ce84046bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221e054c97ac0ab9b2e240ce84046bc3">&#9670;&nbsp;</a></span>open_data_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_data_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfadc__board.html">fadc_board</a> &amp;&#160;</td>
          <td class="paramname"><em>Fadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Open and init binary data file with current time in filename </p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">char</span> filename[100] = {<span class="stringliteral">&quot;\0&quot;</span>};</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="operate_8cpp.html#a65c5a22c18806990710ba3a3f80422e9">debug</a>[100] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">//  generate new file name</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="files_8cpp.html#a282c8252c257a244cba217aa88dbaed8">new_filename</a>(filename, <a class="code" href="files_8cpp.html#a97820fb905f29ec6ddc9f457adab9a01">FileNum</a>++);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">//  open out data file</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a> = fopen(filename, <span class="stringliteral">&quot;w+b&quot;</span>)) == NULL)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fprintf(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>, <span class="stringliteral">&quot;Data file %s is not open!&quot;</span>, filename);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">return</span> 1;  <span class="comment">// error</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    sprintf(debug, <span class="stringliteral">&quot;\nFile %s is open!\n&quot;</span>, filename);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a>(debug);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="files_8cpp.html#aac0930863676605af7a17bc3d6560f67">init_data_file</a>(<a class="code" href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a>, Fadc);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div><div class="ttc" id="files_8cpp_html_a97820fb905f29ec6ddc9f457adab9a01"><div class="ttname"><a href="files_8cpp.html#a97820fb905f29ec6ddc9f457adab9a01">FileNum</a></div><div class="ttdeci">int FileNum</div><div class="ttdoc">number of output data file </div><div class="ttdef"><b>Definition:</b> operate.cpp:16</div></div>
<div class="ttc" id="files_8cpp_html_a282c8252c257a244cba217aa88dbaed8"><div class="ttname"><a href="files_8cpp.html#a282c8252c257a244cba217aa88dbaed8">new_filename</a></div><div class="ttdeci">char new_filename(char *filename, unsigned int filenum)</div><div class="ttdoc">Generation of new outdata filename . </div><div class="ttdef"><b>Definition:</b> files.cpp:174</div></div>
<div class="ttc" id="include_8h_html_acec19516a59050bb447192fe318e6a9c"><div class="ttname"><a href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a></div><div class="ttdeci">FILE * fout</div><div class="ttdoc">data out file </div><div class="ttdef"><b>Definition:</b> include.h:133</div></div>
<div class="ttc" id="operate_8cpp_html_a65c5a22c18806990710ba3a3f80422e9"><div class="ttname"><a href="operate_8cpp.html#a65c5a22c18806990710ba3a3f80422e9">debug</a></div><div class="ttdeci">char debug[100]</div><div class="ttdoc">debug string </div><div class="ttdef"><b>Definition:</b> operate.cpp:19</div></div>
<div class="ttc" id="files_8cpp_html_aac0930863676605af7a17bc3d6560f67"><div class="ttname"><a href="files_8cpp.html#aac0930863676605af7a17bc3d6560f67">init_data_file</a></div><div class="ttdeci">unsigned int init_data_file(FILE *file, fadc_board &amp;Fadc)</div><div class="ttdef"><b>Definition:</b> files.cpp:137</div></div>
<div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
<div class="ttc" id="files_8cpp_html_afabc004fbf5121e961a85c05c4a59c8c"><div class="ttname"><a href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a></div><div class="ttdeci">void print_debug(char *message)</div><div class="ttdoc">Print debug message to stdout and debug file. </div><div class="ttdef"><b>Definition:</b> files.cpp:103</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86aeaa068e21bdc4f26ac12c24e61b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86aeaa068e21bdc4f26ac12c24e61b53">&#9670;&nbsp;</a></span>open_debug_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_debug_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Open debug file with current time in filename </p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">char</span> filename[100] = {<span class="stringliteral">&quot;&quot;</span>};</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordtype">char</span> info[150] = {<span class="stringliteral">&quot;&quot;</span>};</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">//printf(&quot;open_debug_file_start&quot;); fflush(stdout);</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="files_8cpp.html#a282c8252c257a244cba217aa88dbaed8">new_filename</a>(filename, 0);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">//printf(&quot;%s&quot;,filename);</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    strcat(filename,<span class="stringliteral">&quot;.dbg&quot;</span>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a> = fopen(filename, <span class="stringliteral">&quot;w&quot;</span>)) == NULL)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;\nDebug file %s is not open!&quot;</span>, filename);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    sprintf(info, <span class="stringliteral">&quot;Debug file %s open!\n&quot;</span>, filename);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a>(info);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="files_8cpp.html#a9d61403909f8e0fb9c9a5539496d49c5">get_and_print_time</a>();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span>(stdout) fflush(stdout);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a> ) fflush(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div><div class="ttc" id="files_8cpp_html_a282c8252c257a244cba217aa88dbaed8"><div class="ttname"><a href="files_8cpp.html#a282c8252c257a244cba217aa88dbaed8">new_filename</a></div><div class="ttdeci">char new_filename(char *filename, unsigned int filenum)</div><div class="ttdoc">Generation of new outdata filename . </div><div class="ttdef"><b>Definition:</b> files.cpp:174</div></div>
<div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
<div class="ttc" id="files_8cpp_html_a9d61403909f8e0fb9c9a5539496d49c5"><div class="ttname"><a href="files_8cpp.html#a9d61403909f8e0fb9c9a5539496d49c5">get_and_print_time</a></div><div class="ttdeci">void get_and_print_time()</div><div class="ttdoc">Get and print time with milliseconds. </div><div class="ttdef"><b>Definition:</b> operate.cpp:690</div></div>
<div class="ttc" id="files_8cpp_html_afabc004fbf5121e961a85c05c4a59c8c"><div class="ttname"><a href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a></div><div class="ttdeci">void print_debug(char *message)</div><div class="ttdoc">Print debug message to stdout and debug file. </div><div class="ttdef"><b>Definition:</b> files.cpp:103</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a840612e7be68cd8bd4c1fbea5c28928f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840612e7be68cd8bd4c1fbea5c28928f">&#9670;&nbsp;</a></span>open_telemetry_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_telemetry_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Open debug files for online telemetry monitoring </p><dl class="section return"><dt>Возвращает</dt><dd>0 - OK<br />
 negative number - if errors </dd></dl>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">int</span> n = 0;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="include_8h.html#a67fd40d381493b45a8bfc59288716305">ffmin</a> = fopen(<a class="code" href="include_8h.html#a7d9a54020e21981694a10daecdf4718e">EVERYMIN_FILE</a>, <span class="stringliteral">&quot;wt&quot;</span>)) == NULL)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fprintf(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>, <span class="stringliteral">&quot;\nData file \&quot;%s\&quot; is not open!&quot;</span>, <a class="code" href="include_8h.html#a7d9a54020e21981694a10daecdf4718e">EVERYMIN_FILE</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        n--;  <span class="comment">// error</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a> = fopen(<a class="code" href="include_8h.html#a1bf8c91bd142f97903bd9e502710b4dc">EVERYSEC_FILE</a>, <span class="stringliteral">&quot;wt&quot;</span>)) == NULL)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fprintf(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>, <span class="stringliteral">&quot;\nData file \&quot;%s\&quot; is not open!&quot;</span>, <a class="code" href="include_8h.html#a1bf8c91bd142f97903bd9e502710b4dc">EVERYSEC_FILE</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        n--;  <span class="comment">// error</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span> n;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div><div class="ttc" id="include_8h_html_ad7f931dc8556f6e008b9e35b9a33fc3a"><div class="ttname"><a href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a></div><div class="ttdeci">FILE * f5sec</div><div class="ttdoc">every 5min file </div><div class="ttdef"><b>Definition:</b> include.h:135</div></div>
<div class="ttc" id="include_8h_html_a7d9a54020e21981694a10daecdf4718e"><div class="ttname"><a href="include_8h.html#a7d9a54020e21981694a10daecdf4718e">EVERYMIN_FILE</a></div><div class="ttdeci">#define EVERYMIN_FILE</div><div class="ttdoc">file to write every min log </div><div class="ttdef"><b>Definition:</b> include.h:31</div></div>
<div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
<div class="ttc" id="include_8h_html_a67fd40d381493b45a8bfc59288716305"><div class="ttname"><a href="include_8h.html#a67fd40d381493b45a8bfc59288716305">ffmin</a></div><div class="ttdeci">FILE * ffmin</div><div class="ttdoc">every min file </div><div class="ttdef"><b>Definition:</b> include.h:134</div></div>
<div class="ttc" id="include_8h_html_a1bf8c91bd142f97903bd9e502710b4dc"><div class="ttname"><a href="include_8h.html#a1bf8c91bd142f97903bd9e502710b4dc">EVERYSEC_FILE</a></div><div class="ttdeci">#define EVERYSEC_FILE</div><div class="ttdoc">file to write every sec log </div><div class="ttdef"><b>Definition:</b> include.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afabc004fbf5121e961a85c05c4a59c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afabc004fbf5121e961a85c05c4a59c8c">&#9670;&nbsp;</a></span>print_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_debug </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print debug message to stdout and debug file. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span>(stdout != NULL)  fprintf(stdout,<span class="stringliteral">&quot;%s&quot;</span>, message);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>   != NULL)  fprintf(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>,  <span class="stringliteral">&quot;%s&quot;</span>, message);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a81add77f7e11460e94ece42ff6c34b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81add77f7e11460e94ece42ff6c34b77">&#9670;&nbsp;</a></span>print_status_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_status_to_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Print status line to 5sec file </p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="files_8cpp.html#a34ab8638b69b82dd7da9351b510b65bc">get_time_ms</a>();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a>) <a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a> = freopen(<a class="code" href="include_8h.html#a1bf8c91bd142f97903bd9e502710b4dc">EVERYSEC_FILE</a>, <span class="stringliteral">&quot;wt&quot;</span>, <a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">else</span>      <a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a> =   fopen(<a class="code" href="include_8h.html#a1bf8c91bd142f97903bd9e502710b4dc">EVERYSEC_FILE</a>, <span class="stringliteral">&quot;wt&quot;</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a> == NULL)</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    fprintf(<a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a>,  <span class="stringliteral">&quot;%s\n%s\n&quot;</span>, <a class="code" href="include_8h.html#a9fcfa020d49282947af7126f436bef23">time_out</a>, <a class="code" href="include_8h.html#af3666b1f8588415b0aaeb3c1eba4a2aa">msc_out</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    fprintf(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>,   <span class="stringliteral">&quot;%s\n%s\n&quot;</span>, <a class="code" href="include_8h.html#a9fcfa020d49282947af7126f436bef23">time_out</a>, <a class="code" href="include_8h.html#af3666b1f8588415b0aaeb3c1eba4a2aa">msc_out</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    fflush(<a class="code" href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="ttc" id="include_8h_html_af3666b1f8588415b0aaeb3c1eba4a2aa"><div class="ttname"><a href="include_8h.html#af3666b1f8588415b0aaeb3c1eba4a2aa">msc_out</a></div><div class="ttdeci">char msc_out[1024]</div><div class="ttdoc">info string </div><div class="ttdef"><b>Definition:</b> include.h:150</div></div>
<div class="ttc" id="files_8cpp_html_a34ab8638b69b82dd7da9351b510b65bc"><div class="ttname"><a href="files_8cpp.html#a34ab8638b69b82dd7da9351b510b65bc">get_time_ms</a></div><div class="ttdeci">void get_time_ms()</div><div class="ttdoc">get_time_ms </div><div class="ttdef"><b>Definition:</b> operate.cpp:712</div></div>
<div class="ttc" id="include_8h_html_ad7f931dc8556f6e008b9e35b9a33fc3a"><div class="ttname"><a href="include_8h.html#ad7f931dc8556f6e008b9e35b9a33fc3a">f5sec</a></div><div class="ttdeci">FILE * f5sec</div><div class="ttdoc">every 5min file </div><div class="ttdef"><b>Definition:</b> include.h:135</div></div>
<div class="ttc" id="include_8h_html_a9fcfa020d49282947af7126f436bef23"><div class="ttname"><a href="include_8h.html#a9fcfa020d49282947af7126f436bef23">time_out</a></div><div class="ttdeci">char time_out[100]</div><div class="ttdoc">time_ms info string </div><div class="ttdef"><b>Definition:</b> include.h:147</div></div>
<div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
<div class="ttc" id="include_8h_html_a1bf8c91bd142f97903bd9e502710b4dc"><div class="ttname"><a href="include_8h.html#a1bf8c91bd142f97903bd9e502710b4dc">EVERYSEC_FILE</a></div><div class="ttdeci">#define EVERYSEC_FILE</div><div class="ttdoc">file to write every sec log </div><div class="ttdef"><b>Definition:</b> include.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cb50885ac45df175a04f36c6703e6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cb50885ac45df175a04f36c6703e6a5">&#9670;&nbsp;</a></span>read_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_enable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read enable message from file. </p>
<hr/>
 <dl class="section return"><dt>Возвращает</dt><dd>0 Disable status<br />
 1 Enable status<br />
 -1 Error in file reading </dd></dl>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    FILE *fin;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordtype">char</span> line[200];</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">int</span> status = 0;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span>((fin = fopen(<a class="code" href="include_8h.html#a27cf9d031c1ff28124b2c5e445685795">ENABLE_FILE</a> , <span class="stringliteral">&quot;rt&quot;</span>)) == NULL)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fprintf(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>, <span class="stringliteral">&quot;\nEnable status file %s is not open!&quot;</span>, <a class="code" href="include_8h.html#a27cf9d031c1ff28124b2c5e445685795">ENABLE_FILE</a>);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">while</span>( fgets(line, <span class="keyword">sizeof</span>(line), fin) != NULL )</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">if</span>( (line[0] == <span class="charliteral">&#39;\n&#39;</span>) || (line[0] == <span class="charliteral">&#39;/&#39;</span>) )</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">if</span>(strstr(line, <span class="stringliteral">&quot;Disable&quot;</span>))</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            status = 0;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">if</span>(strstr(line, <span class="stringliteral">&quot;Enable&quot;</span>))</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            status = 1;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    fclose(fin);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> status;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="ttc" id="include_8h_html_a27cf9d031c1ff28124b2c5e445685795"><div class="ttname"><a href="include_8h.html#a27cf9d031c1ff28124b2c5e445685795">ENABLE_FILE</a></div><div class="ttdeci">#define ENABLE_FILE</div><div class="ttdoc">file to enable status </div><div class="ttdef"><b>Definition:</b> include.h:30</div></div>
<div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c3503a87688997653881ab319dec95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c3503a87688997653881ab319dec95a">&#9670;&nbsp;</a></span>reopen_debug_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reopen_debug_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Reopen debug file </p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">//  Close old debug file</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a>((<span class="keywordtype">char</span>*)<span class="stringliteral">&quot;debug close:\n&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fflush(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    sleep(10);  <span class="comment">// 10sec</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fclose(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    printf(<span class="stringliteral">&quot;               closed\n&quot;</span>);  <span class="comment">// !!!! no print to debug in this place !!!</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//  Open new debug file</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="files_8cpp.html#a86aeaa068e21bdc4f26ac12c24e61b53">open_debug_file</a>();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a>((<span class="keywordtype">char</span>*)<span class="stringliteral">&quot;debug open! \n&quot;</span>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fflush(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="ttc" id="files_8cpp_html_a86aeaa068e21bdc4f26ac12c24e61b53"><div class="ttname"><a href="files_8cpp.html#a86aeaa068e21bdc4f26ac12c24e61b53">open_debug_file</a></div><div class="ttdeci">int open_debug_file()</div><div class="ttdef"><b>Definition:</b> files.cpp:228</div></div>
<div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
<div class="ttc" id="files_8cpp_html_afabc004fbf5121e961a85c05c4a59c8c"><div class="ttname"><a href="files_8cpp.html#afabc004fbf5121e961a85c05c4a59c8c">print_debug</a></div><div class="ttdeci">void print_debug(char *message)</div><div class="ttdoc">Print debug message to stdout and debug file. </div><div class="ttdef"><b>Definition:</b> files.cpp:103</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a56719317a4f22e76aa0ff6861476f568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56719317a4f22e76aa0ff6861476f568">&#9670;&nbsp;</a></span>time_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void time_to_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Prints current time to current binary data file *fout. </p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">struct </span>timeval tv;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    gettimeofday(&amp;tv, NULL);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">tInt</a> = tv.tv_sec;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a>)   fprintf(<a class="code" href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a>, <span class="stringliteral">&quot;t%c%c%c%c&quot;</span>, <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[3], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[2], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[1], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[0]);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span>(stdout) fprintf(stdout, <span class="stringliteral">&quot;t-%3i-%3i-%3i-%3i\n&quot;</span>, <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[3], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[2], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[1], <a class="code" href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a>.<a class="code" href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">tChar</a>[0]);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div><div class="ttc" id="unionCharInt__converter_html_a8de79f7fa4bd529ab67c9a1d7d3e5b6a"><div class="ttname"><a href="unionCharInt__converter.html#a8de79f7fa4bd529ab67c9a1d7d3e5b6a">CharInt_converter::tChar</a></div><div class="ttdeci">unsigned char tChar[4]</div><div class="ttdoc">4 bytes for integer </div><div class="ttdef"><b>Definition:</b> include.h:80</div></div>
<div class="ttc" id="include_8h_html_acec19516a59050bb447192fe318e6a9c"><div class="ttname"><a href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a></div><div class="ttdeci">FILE * fout</div><div class="ttdoc">data out file </div><div class="ttdef"><b>Definition:</b> include.h:133</div></div>
<div class="ttc" id="unionCharInt__converter_html_acbefecaba8d8d94efb3b252b76d75a8c"><div class="ttname"><a href="unionCharInt__converter.html#acbefecaba8d8d94efb3b252b76d75a8c">CharInt_converter::tInt</a></div><div class="ttdeci">unsigned int tInt</div><div class="ttdoc">integer </div><div class="ttdef"><b>Definition:</b> include.h:81</div></div>
<div class="ttc" id="include_8h_html_a0243a46b9873d3074b0bbbf09c6ea281"><div class="ttname"><a href="include_8h.html#a0243a46b9873d3074b0bbbf09c6ea281">Conv</a></div><div class="ttdeci">union CharInt_converter Conv</div><div class="ttdoc">name of union to use to convert int to bytes </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb0514fdaff6d13f7bc1c1883615ca2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0514fdaff6d13f7bc1c1883615ca2d">&#9670;&nbsp;</a></span>timestamp_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timestamp_to_file </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>ff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Prints current time in seconds to text file *ff </p><dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">*ff</td><td>file to print timestamp </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">struct </span>timeval tv;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    gettimeofday(&amp;tv, NULL);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">//Conv.tInt = tv.tv_sec;</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span>(ff)  fprintf(ff, <span class="stringliteral">&quot;&lt;t&gt;%ld &quot;</span>, tv.tv_sec);  <span class="comment">// Conv.tChar[3], Conv.tChar[2], Conv.tChar[1], Conv.tChar[0]);</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="aa9e3b3db3bab016c82ba24e75ae83ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e3b3db3bab016c82ba24e75ae83ae7">&#9670;&nbsp;</a></span>write_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_disable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read enable message from file. </p>
<hr/>
 <dl class="section return"><dt>Возвращает</dt><dd>0 OK in writing Disable status<br />
 -1 Error in file reading </dd></dl>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    FILE * <a class="code" href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    res = <a class="code" href="files_8cpp.html#a9cb50885ac45df175a04f36c6703e6a5">read_enable</a>();</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// if &quot;Disable&quot; - exit</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span>(res == 0)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// write &quot;Disable&quot;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span>((fout = fopen(<a class="code" href="include_8h.html#a27cf9d031c1ff28124b2c5e445685795">ENABLE_FILE</a> , <span class="stringliteral">&quot;wt&quot;</span>)) == NULL)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>) fprintf(<a class="code" href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a>, <span class="stringliteral">&quot;\nEnable status file %s is not open!&quot;</span>, <a class="code" href="include_8h.html#a27cf9d031c1ff28124b2c5e445685795">ENABLE_FILE</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    fprintf(fout, <span class="stringliteral">&quot;Disabled\n&quot;</span>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    fclose(fout);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="ttc" id="include_8h_html_a27cf9d031c1ff28124b2c5e445685795"><div class="ttname"><a href="include_8h.html#a27cf9d031c1ff28124b2c5e445685795">ENABLE_FILE</a></div><div class="ttdeci">#define ENABLE_FILE</div><div class="ttdoc">file to enable status </div><div class="ttdef"><b>Definition:</b> include.h:30</div></div>
<div class="ttc" id="include_8h_html_acec19516a59050bb447192fe318e6a9c"><div class="ttname"><a href="include_8h.html#acec19516a59050bb447192fe318e6a9c">fout</a></div><div class="ttdeci">FILE * fout</div><div class="ttdoc">data out file </div><div class="ttdef"><b>Definition:</b> include.h:133</div></div>
<div class="ttc" id="files_8cpp_html_a9cb50885ac45df175a04f36c6703e6a5"><div class="ttname"><a href="files_8cpp.html#a9cb50885ac45df175a04f36c6703e6a5">read_enable</a></div><div class="ttdeci">int read_enable()</div><div class="ttdoc">Read enable message from file. </div><div class="ttdef"><b>Definition:</b> files.cpp:40</div></div>
<div class="ttc" id="bit_8cpp_html_a8313468c2ab2f4c2cbba8f5c41057f40"><div class="ttname"><a href="bit_8cpp.html#a8313468c2ab2f4c2cbba8f5c41057f40">dout</a></div><div class="ttdeci">FILE * dout</div><div class="ttdoc">debug out file </div><div class="ttdef"><b>Definition:</b> include.h:131</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Создано системой &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
